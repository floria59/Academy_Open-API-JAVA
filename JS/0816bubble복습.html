<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>버블소트 복습하기</title>
</head>
<body>

    <script>
        //let ar = [ 10, 5, 44, 3, 2];

        // 1. 오름차순, 내림차순을 선택하는 기능
        // 2. 최적화 요소가 존재 - 한라인에서 스왑이 이루어지지 않았다면? 정렬은 이미 끝난것
        // 3. 원본 배열은 그대로 두고 정렬결과를 새로운 배열로 만들어 리턴한다.
        
        // asc = ture : 오름차순
        // asc = false : 내림차순
        // const bubblesort = function(asc, ...ar)
        // {
        //     console.log(ar);
        //     console.log(typeof(ar));
        // }

        // bubblesort(true, [44,33,22,55,11]); // 각각의 갯수 5개
        // bubblesort([44,33,22,55,11]); // 배열 1개

        //---------------------------------------------------------
        // 은솔 풀이
        // asc = ture : 오름차순 , asc = false : 내림차순
        // ...ar은 파라미터를 한방에 배열로 만들어준다. 가변파라미터
        // const bubblesort = function(asc, ...ar)
        // {
        //     let arr;
        //     let temp = 0;

        //     // 한줄을 비교할때마다 swap이 된지를 파악한다. 
        //     let swapflag = false;

        //    // 1. type1이 오던 type2이 오던 type1로 맞추자.
        //    console.log(typeof(ar[0]));
 
        //    // 배열의 0번째가 넘버라면 ar값을 arr에 넣어라 
        //    // 근데 이건 배열안의 배열이기에 [44,33,22,55,11]이게 0번째값이 됨
        //    if (typeof(ar[0]) === 'number')
        //    {
        //         arr = ar; // arr에 [44,33,22,55,11] 이값을 넣어라

        //    }
        //    else if
        //    {
        //         arr = ar[0]; // arr[44,33,22,55,11] 이값의 0번째 값인 44를 넣어라
        //    }
        //    else
        //    {
        //         return null;
        //    }

        //    //arr로 버블소트를 진행
        //    for ( let i = 0; i < arr.length -1; i++)
        //    {
        //         for(let k = 0; k < arr.length -1 - i; k++)
        //         {
        //             if( asc === true) // 오름차순으로 정렬
        //             {
        //                 if (arr[k] > arr[k + 1])
        //                 {
        //                     tamp = arr[k];
        //                     arr[k] = arr[k + 1];
        //                     arr[k + 1] = tamp;

        //                     // tamp가 한번이라도 필요없는경우
        //                     swapflag = true;
        //                 }
        //             }
        //             else // false인경우 아래 코드 실행, 내림차순
        //             {
        //                 if (arr[k] < arr[k + 1])
        //                 {
        //                     tamp = arr[k];
        //                     arr[k] = arr[k + 1];
        //                     arr[k + 1] = tamp;

        //                     swapflag = true;
        //                 }
        //             }
        //         }
        //         if ( swapflag === false)
        //         {
        //             console.log("break " + i)
        //             break;
        //         }
        //         else
        //         { 
        //             swapflag = false;
        //         }
        //    }
        //    // 이 리턴은 for문의 arr값이 아님 스택에 위치하고있는 arr값을 리턴시키는것임
        //     return arr;
        // };

        // console.log(bubblesort(true, [44,33,22,55,11])); // type1 // false를 쓰면 내림차순으로 적용된다.
        //bubblesort([44,33,22,55,11]); // type2

        //-----------------------------------------------------------------
        // let a = [1,2,3,4];
        // let b = [[1,2,3,4]];
        // let c = b[0];

        // b[0][1] = 77;

        // console.log(c[1]);

        //----------------------------------------------------------------
        
        // 강사님 답안

        //asc = ture : 오름차순 , asc = false : 내림차순
        // ...ar은 파라미터를 한방에 배열로 만들어준다. 가변파라미터
        (()=>{
        const bubbleSort = function(asc, ...ar)
        {
            let arr;
            let temp;

            // 한줄을 비교할때마다 스왑이 된지 파악한다.
            let swapFlag = false;

            // 배열의 0번째가 넘버라면 ar값을 arr에 넣어라 
            // 근데 이건 배열안의 배열이기에 [1, 3, 4, 2, 5]이게 0번째값이 됨
            if (typeof(ar[0]) === 'number')
            {
                arr = ar; // arr에 [1, 3, 4, 2, 5] 이값을 넣어라
            }
            
            else if (Array.isArray(ar[0]))
            {
                arr = ar[0]; // arr[1, 3, 4, 2, 5] 이값의 0번째 값인 1을 넣어라
            }
            else
            {
                return null;
            }

             //arr로 버블소트를 진행
            for (let i = 0; i < arr.length - 1; i++)
            {
                for (let k = 0; k < arr.length - 1 - i; k++)
                {
                    // 오름차순
                    if (asc === true)
                    {
                        if (arr[k] > arr[k + 1])
                        {
                            temp = arr[k];
                            arr[k] = arr[k + 1];
                            arr[k + 1] = temp;                           

                            // tamp가 한번이라도 필요없는경우 swap을 올려라
                            swapFlag = true;
                        }

                    }
                    else // 내림차순.
                    {
                        if (arr[k] < arr[k + 1])
                        {
                            temp = arr[k];
                            arr[k] = arr[k + 1];
                            arr[k + 1] = temp;                           

                            swapFlag = true;             
                        }
                    }
                }

                if (swapFlag === false)
                {
                    console.log("break " + i);
                    break;
                }
                else
                {
                    //swap 을 내려라
                    swapFlag = false;

                }
            }

            // 이 리턴은 for문의 arr값이 아님 스택에 위치하고있는 arr값을 리턴시키는것임
            return arr;
        }
            
        let res = bubbleSort(true, [1, 3, 4, 2, 5]);

        console.log(res);

    })();





    </script>
    
</body>
</html>